!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}("undefined"!=typeof self?self:this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Promise,r=t.ajaxFn=function(e,t,n,r){arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(a){var s=void 0;return o.prototype.cancel=function(){s instanceof XMLHttpRequest&&(s.abort(),s=null,console.log("XMLHttpRequest Abort"))},new o(function(o,i){var u=a.url,c=a.param,f=a.type,l=void 0===f?"GET":f,d=a.localData,p=a.uploadProgress,v=a.noLoading,m=void 0!==v&&v,y=a.requestType,h=l.toUpperCase();if(!u&&!d)return console.error("请求地址不存在"),void i({msg:"开发时提示~参数错误"});!m&&e&&e();var g=(Date.now(),function(e){if(n){if(n(e))return}switch(e.status){case 1:case!0:return void o(e);case 0:case!1:return void i(e);default:r&&r(e,o,i)}});if(d)return!m&&t&&t(),void g(d);s=new XMLHttpRequest;try{s.onreadystatechange=function(){if(4==s.readyState){if(!m&&t&&t(m),s.status>=200&&s.status<300)try{var e=JSON.parse(s.responseText);g(e)}catch(e){i({retcode:s.status,msg:"网络不稳定，请稍后重试."})}else{if(0===s.status)return;i({retcode:s.status,msg:"网络不稳定，请稍后重试.."})}s=null}};var b=[];for(var x in c)(c[x]||!1===c[x]||0===c[x])&&b.push(x+"="+encodeURIComponent(c[x]));if("FORM"===h){var w=new FormData;w.append("file",c.file),w.append("bkn",bkn),s.upload.onprogress=function(e){e.lengthComputable&&p(e.loaded,e.total)},s.open("POST",u),s.withCredentials=!0,s.send(w)}else if("JSONP"===h){h="GET",c.callback||i({status:0}),window[c.callback]=function(e){g(e)},b.length>0&&(u+=(u.indexOf("?")>-1?"&":"?")+b.join("&"));var j=document.createElement("script"),O=document.getElementsByTagName("head")[0];j.src=u,O.appendChild(j)}else{switch(h){case"PUT":case"POST":JSON.stringify(c);break;case"DELETE":case"GET":b.length>0&&(u+=(u.indexOf("?")>-1?"&":"?")+b.join("&"))}s.open(h,u,!0),s.withCredentials=!0,s.setRequestHeader("Content-Type","json"==y?"application/json;charset=utf-8":"application/x-www-form-urlencoded"),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.send("POST"===h?b.join("&"):"")}}catch(e){console.error(e)}})}};t.ajax=r()}])});